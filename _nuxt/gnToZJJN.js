import{d as $,u as R,k as C,I as J,a0 as G,c as p,e as i,J as D,q as A,h as m,f as c,v as Q,s as n,V as W,g as e,w as I,B as v,a1 as O,x as q,t as _,a3 as Y,C as P,j as z,o as ee,aa as te,F as B,r as oe,ab as K,L as H,ac as se,_ as ae,a as ne,b as Z,M as N,N as L,ad as ie}from"./DDk_LWmE.js";import{a as M,c as j,g as E,b as re}from"./CFhv_Xr0.js";import{d as X,e as S}from"./CqN_XfO-.js";import{_ as ce}from"./DCQQG_p-.js";import le from"./B9QxBl0Q.js";import{u as F,a as pe,q as U}from"./CCdmg50W.js";import{_ as de}from"./BuZawj_Y.js";import"./rJCbAzvX.js";const ue={class:"post-nav"},me={class:"operations"},_e={key:0,class:"post-info"},ge=["datetime"],fe=["datetime"],ve={key:2,class:"article-category"},he={class:"wordcount"},ye=$({inheritAttrs:!1,__name:"PostHeader",props:{path:{},readingTime:{},title:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},cover_revert:{type:Boolean},hideInfo:{type:Boolean},recommend:{},references:{}},setup(y){const o=y,l=R(),a=C(()=>o.categories?.[0]),d=C(()=>X(a.value)),s=`【${l.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,l.url).href}`,{copy:r,copied:f}=J(s);return(t,g)=>{const k=Q,b=W,h=q,u=G("tip");return i(),p("div",{class:D(["post-header",{"has-cover":t.image,"text-revert":t.cover_revert}])},[t.image?(i(),A(k,{key:0,class:"post-cover",src:t.image,alt:t.title},null,8,["src","alt"])):m("",!0),c("div",ue,[c("div",me,[n(b,{icon:e(f)?"ph:check-bold":"ph:share-bold",onClick:g[0]||(g[0]=w=>e(r)())},{default:I(()=>g[1]||(g[1]=[v(" 文字分享 ",-1)])),_:1,__:[1]},8,["icon"])]),t.hideInfo?m("",!0):(i(),p("div",_e,[t.date?O((i(),p("time",{key:0,datetime:("getIsoDatetime"in t?t.getIsoDatetime:e(j))(t.date)},[n(h,{name:"ph:calendar-dots-bold"}),v(" "+_(("getPostDate"in t?t.getPostDate:e(E))(o.date)),1)],8,ge)),[[u,`创建于 ${("getLocaleDatetime"in t?t.getLocaleDatetime:e(M))(o.date)}`]]):m("",!0),("isTimeDiffSignificant"in t?t.isTimeDiffSignificant:e(re))(t.date,t.updated,.999)?O((i(),p("time",{key:1,datetime:("getIsoDatetime"in t?t.getIsoDatetime:e(j))(t.updated)},[n(h,{name:"ph:calendar-plus-bold"}),v(" "+_(("getPostDate"in t?t.getPostDate:e(E))(o.updated)),1)],8,fe)),[[u,`修改于 ${("getLocaleDatetime"in t?t.getLocaleDatetime:e(M))(o.updated)}`]]):m("",!0),e(a)?(i(),p("span",ve,[n(h,{name:e(d)},null,8,["name"]),v(" "+_(e(a)),1)])):m("",!0),c("span",he,[n(h,{name:"ph:paragraph-bold"}),v(" "+_(("formatNumber"in t?t.formatNumber:e(Y))(t.readingTime?.words))+" 字 ",1)])]))]),c("h1",{class:D(["post-title",("getPostTypeClassName"in t?t.getPostTypeClassName:e(S))(t.type)])},_(t.title),3)],2)}}}),be=Object.assign(P(ye,[["__scopeId","data-v-13ee4368"]]),{__name:"PostHeader"}),$e={class:"md-excerpt gradient-card"},Pe=$({__name:"Excerpt",props:{excerpt:{}},setup(y){const o=y,l=R(),a=z(o.excerpt),d=z("");return l.content.excerpt?.animation!==!1&&(a.value="",ee(async()=>{d.value=l.content.excerpt?.caret??"_";for(const s of o.excerpt)a.value+=s,await te(50);d.value=""})),(s,r)=>{const f=q;return i(),p("div",$e,[n(f,{name:"ph:highlighter-bold"}),v(_(e(a))+_(e(d)),1)])}}}),ke=Object.assign(P(Pe,[["__scopeId","data-v-bf7538b0"]]),{__name:"PostExcerpt"}),we={class:"post-footer"},Ce={key:0,class:"reference"},De={class:"content"},Ie={class:"license"},Te={class:"content"},Ne=$({inheritAttrs:!1,__name:"PostFooter",props:{path:{},readingTime:{},title:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},cover_revert:{type:Boolean},hideInfo:{type:Boolean},recommend:{},references:{}},setup(y){const o=R();return(l,a)=>{const d=le;return i(),p("div",we,[l.references?(i(),p("section",Ce,[a[0]||(a[0]=c("div",{id:"references",class:"title text-creative"}," 参考链接 ",-1)),c("div",De,[c("ul",null,[(i(!0),p(B,null,oe(l.references,(s,r)=>(i(),p("li",{key:r},[n(d,{href:s.link||""},{default:I(()=>[v(_(s.title??s.link),1)]),_:2},1032,["href"])]))),128))])])])):m("",!0),c("section",Ie,[a[3]||(a[3]=c("div",{class:"title text-creative"}," 许可协议 ",-1)),c("div",Te,[c("p",null,[a[1]||(a[1]=v(" 本文采用 ",-1)),n(d,{href:e(o).copyright.url},{default:I(()=>[v(_(e(o).copyright.name),1)]),_:1},8,["href"]),a[2]||(a[2]=v(" 许可协议，转载请注明出处。 ",-1))])])])])}}}),Le=Object.assign(P(Ne,[["__scopeId","data-v-8990bdfb"]]),{__name:"PostFooter"}),Ae={class:"surround-text"},Be=["datetime"],Se={key:0,class:"surround-post"},Re=$({__name:"PostSurround",async setup(y){let o,l;const a=K(),{data:d}=([o,l]=H(()=>F(`surround-${a.path}`,()=>pe("content",a.path,{fields:["date","title","type"]}).order("date","ASC").where("stem","LIKE","posts/%"))),o=await o,l(),o),[s=null,r=null]=d.value??[],[f,t]=se({inheritAttrs:!1});return(g,k)=>{const b=q,h=ae;return i(),p(B,null,[n(e(f),null,{default:I(({post:u,icon:w,fallbackIcon:T,fallbackText:V,alignRight:x})=>[n(h,{to:u?.path,class:"surround-link","align-right":x},{default:I(()=>[n(b,{name:u?w:T},null,8,["name"]),c("div",Ae,[c("strong",{class:D(["title",("getPostTypeClassName"in g?g.getPostTypeClassName:e(S))(u?.type)])},_(u?.title||V),3),u?(i(),p("time",{key:0,datetime:("getIsoDatetime"in g?g.getIsoDatetime:e(j))(u.date)},_(("getPostDate"in g?g.getPostDate:e(E))(u.date)),9,Be)):m("",!0)])]),_:2},1032,["to","align-right"])]),_:1}),e(s)||e(r)?(i(),p("div",Se,[n(e(t),{post:e(r),icon:"solar:rewind-back-bold-duotone","fallback-icon":"solar:document-add-bold-duotone","fallback-text":"新故事即将发生"},null,8,["post"]),n(e(t),{post:e(s),icon:"solar:rewind-forward-bold-duotone","fallback-icon":"solar:reel-bold-duotone","fallback-text":"已抵达博客尽头","align-right":""},null,8,["post"])])):m("",!0)],64)}}}),Ve=Object.assign(P(Re,[["__scopeId","data-v-f181f773"]]),{__name:"PostSurround"}),He={id:"l_cover"},je={class:"l_cover wiki sa-load-hidden",style:{opacity:"1",transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)",visibility:"visible",transition:"all, opacity 0.8s ease-in-out, transform 0.8s ease-in-out"}},Ee={class:"cover-wrap md-text"},Fe={class:"preview cover"},qe=["src"],Oe={key:0,class:"cover-title"},ze={key:1,class:"description"},Ze=$({inheritAttrs:!1,__name:"PreViewHeader",props:{path:{},readingTime:{},title:{},description:{},link:{},date:{},updated:{},published:{},categories:{},tags:{},type:{},image:{},cover_revert:{type:Boolean},hideInfo:{type:Boolean},recommend:{},references:{}},setup(y){const o=y,l=R(),a=C(()=>o.categories?.[0]);C(()=>X(a.value));const d=`【${l.title}】${o.title}

${o.description?`${o.description}

`:""}${new URL(o.path,l.url).href}`;return J(d),(s,r)=>(i(),p("div",null,[c("div",He,[c("div",je,[c("article",Ee,[c("div",Fe,[s.icon in s.previewProps.icon?(i(),p("img",{key:0,class:"lazy entered loaded",src:s.icon},null,8,qe)):m("",!0)]),s.title in s.previewProps.title?(i(),p("div",Oe,[c("span",null,_(s.title),1)])):m("",!0),s.description in s.previewProps.description?(i(),p("div",ze,_(s.description),1)):m("",!0),r[0]||(r[0]=c("div",{class:"start-wrap"},[c("a",{class:"button start gradient",href:"#start"}," 开始使用 ")],-1))])])])]))}}),Me=Object.assign(P(Ze,[["__scopeId","data-v-6135c1e2"]]),{__name:"PreviewPreViewHeader"}),Ue=$({__name:"[...slug]",async setup(y){let o,l;const a=K(),d=ne();d.setAside(["toc","blog-stats","connectivity","latest-comments","blog-log"]);const{data:s}=([o,l]=H(()=>F(()=>a.path,()=>U("content").path(a.path).first(),"$BPopkF1nvN")),o=await o,l(),o),{data:r}=([o,l]=H(()=>F(()=>a.path,()=>U("content").path(a.path).first(),"$wpdXxdb-rN")),o=await o,l(),o),f=C(()=>s.value?.description||"");return s.value&&(Z({title:s.value.title,meta:[{property:"og:type",content:"article"},{property:"og:image",content:s.value.image},{name:"description",content:s.value.description}]}),d.setAside(s.value.meta?.aside)),r.value?(Z({title:r.value.title,meta:[{property:"og:type",content:"article"},{property:"og:icon",content:r.value.icon},{property:"og:image",content:r.value.image},{name:"description",content:r.value.description}]}),d.setAside(r.value.meta?.aside)):(a.meta.title="404",d.setAside(["blog-stats","connectivity","latest-comments","blog-log"])),(t,g)=>{const k=be,b=ke,h=ce,u=Le,w=Ve,T=de,V=ie;return e(s)?(i(),p(B,{key:0},[n(k,N(L(e(s))),null,16),e(f)?(i(),A(b,{key:0,excerpt:e(f)},null,8,["excerpt"])):m("",!0),n(h,{class:D(["article",("getPostTypeClassName"in t?t.getPostTypeClassName:e(S))(e(s)?.type,{prefix:"md"})]),value:e(s),tag:"article"},null,8,["class","value"]),n(u,N(L(e(s))),null,16),n(w),n(T)],64)):e(r)?(i(),p(B,{key:1},[n(Me),n(k,N(L(e(r))),null,16),e(f)?(i(),A(b,{key:0,excerpt:e(f)},null,8,["excerpt"])):m("",!0),n(h,{class:D(["article",("getPostTypeClassName"in t?t.getPostTypeClassName:e(S))(e(r)?.type,{prefix:"md"})]),value:e(s),tag:"article"},null,8,["class","value"]),n(u,N(L(e(s))),null,16),n(w),n(T)],64)):(i(),A(V,{key:2,icon:"solar:confounded-square-bold-duotone",title:"内容为空或页面不存在"}))}}}),et=P(Ue,[["__scopeId","data-v-9e32bc23"]]);export{et as default};
